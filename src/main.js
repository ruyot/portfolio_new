import './style.css'

// Zoom level limiter - completely blocks browser zoom
let zoomLevel = 0;
const MAX_ZOOM = 0;  // No zoom in allowed
const MIN_ZOOM = 0;  // No zoom out allowed

document.addEventListener('keydown', (e) => {
  // Check for Cmd/Ctrl + Plus or Minus
  if ((e.metaKey || e.ctrlKey) && (e.key === '=' || e.key === '+')) {
    if (zoomLevel >= MAX_ZOOM) {
      e.preventDefault();
      return;
    }
    zoomLevel++;
  } else if ((e.metaKey || e.ctrlKey) && e.key === '-') {
    if (zoomLevel <= MIN_ZOOM) {
      e.preventDefault();
      return;
    }
    zoomLevel--;
  } else if ((e.metaKey || e.ctrlKey) && e.key === '0') {
    zoomLevel = 0;
  }
});

// Also handle mouse wheel zoom
document.addEventListener('wheel', (e) => {
  if (e.ctrlKey || e.metaKey) {
    if (e.deltaY < 0 && zoomLevel >= MAX_ZOOM) {
      e.preventDefault();
    } else if (e.deltaY > 0 && zoomLevel <= MIN_ZOOM) {
      e.preventDefault();
    } else if (e.deltaY < 0) {
      zoomLevel++;
    } else if (e.deltaY > 0) {
      zoomLevel--;
    }
  }
}, { passive: false });

// ASCII art portrait - from left_design_2.txt
const asciiArt = `
                               .:==+#+:.                                                            
                         .......+%#%@=:.........                                                    
                     ...:==-=*=##%%@#%#*#%%#**#+-:...                                               
                ..-+++##%##%@%@%@@@@@@%%%%%%%@##%%#+==+:..                                          
               .-#%@@@@@@@@@@@@@@@@@@@@@@@%@@@#%%%%%%%%%*:                                          
              .:#%@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@%@@@%%%%=.                                        
             .-#@%@@@%@@@@@@@@@@@@@@@@@@@%#%@%@@@%%%@%@%%%#.                                        
           ..+#@%@@%%@@@@@@@@@@@%@@@@@@@@####@@%%@@@@@@@%%+-.                                       
           .+%%%%@%%%@@#@@@%%#@@@@@@@@%@%%%@%**#@@@@@@@%@@*:.                                       
          .+%@@%@@@#%%@@@@@@@#@@@#@@@@%@%%%%@%#*##%%@@@*%%%-.                                       
         .+@%@@@@@@@%@@@@@%@%%%%%@@@@@*%*@@%%#%%%*#@@%@@@@+:.                                       
        .-%%%%%@%%@@@@@@@@@@@@@%@@@%%%#=++=%%*##***#%%%@%#..                                        
        :**@%%%%@%%@@@%%@@@@@@@@@@@#*@%%%===*%%%@@@@%%@%=+.                                         
       .+#%%@@#%@@@@@@@@@@@@@%@@%%%*=-----=+*#*%@@@@@@##...                                         
      .+%%%%@%@@@@@@@@@@@@%@@%%%%%#---=--+*##%%%@@*++*+..                                           
     .+%%%%%%%@@@@@@@%%%%%%@%%%%@%%+-:--=+++**%@@#+====..                                           
     :*@@%%@@@@@%@@%@@@@**%%%%%*+#==-----==++++***+==-==..                                          
     .=%%%@@@@%%@@@#%@@@++#***---=======---===++*#=-=====..                                         
     ..*%%%%%@%@@@@@@@@@@==++:-===+===+====-=++#%%+**@@*=..                                         
      .:=%%%%%@@@@@%@@@@%++-++++=======+++++*#%@%#+***%....                                         
       .+%@@@%%@@@%@%@@%@**=+#*%========+++**###*###%%*..                                           
       .:#@@@@@@@@%@@@@%%%*++=======+==++++*****+++**#+..                                           
       .-#@@@@@@@@@@@@%@@@#*++++++++++++++++***++***#%=..                                           
       .=@%@@@@@@@@@@@@@%%%##*+++++++++++++++++++***#*. .                                           
        :*%%@@@@%@%%%%@@@@@@*+*=++*#*******++++++***#=.                                             
        ..+@@@@@%%%%%@@@@@@@%##++++***######**+++*##=..                                             
         ..+@@@@@@%%@@@@@@@@#====++++*****#%%@@@@@@@#=....                                          
           .=%%%@@@%@@@@@@%@+====+++++++++*#%@@%@%%@@@@%**+:::.                                     
           .:*%@@@@%@@@@@@%*=====++++=====+*#%%%%@%@@@@@@@@@@@%#+-:..                               
            .:*%%%@@@@@%%@%=======++++==+++*#%%%%@%@@@@@@@@@@@@@@@@#+-...                           
             .-#%%%%%%@%%+%---=====+++++++*#%%%%%@@@@@@@@@@@@@@@@@%%%%#+:..                         
               .-#%####----*---====++++++*#%%%%%%@@%%%%%%%%%@@@%%#%%%%%%#*:.                        
               .=#%%#####:::+-=====+++++**#%%%%%@%#%%##%%%%%%%%%%##%%#%%%%*-.                       
              .:#%####%%###+-=======+++**#%%*+**%%%%%##%%%#%%%%%%%#%%##%%%%%=.                      
            ..+##########%%%#%**=======+**++==#%%%%%%%##%%%#%%%%%%##%##%%%#@%-.                     
           .-*#############%%%%%%#%#*+==+*#%%%%%%%%%%%##%%%##%##%%%##@##@#%%%#.                     
         .:*###################%%%%%%%%%%%%%%@#%%@#%%%%#%####%%#%%%%##@##%%#@%+..                   
        .=##########%#############%%#####%%%%%%%%%@%%%%##%#%##%#%%%%###%#@%#@%%:.                   
      .:+######################%###%@%%%%%%%%%%%@@@%%%%##%####%####%%##%#%@%@%@+.                   
     .-*#############%##########%###%@%%%%%%%%%%@%%%%%%##%####%####%%%%#@#@#@%@%-.                  
    .=###########################%%%%%@%%%%%%%%%@%%%%%%##%%###%%###%%%%%%%@#@%@@%-.                 
   .+#############################%%%%%@%%%%%%%%@@#%%%%###%%#%%##%%%%%%%%@@@%#@@@%.                 
  .=#################%#%###########%%%%%@%%%%%%%+%%#%%%%##%%%%%%%%%%%%%%%@@%%@@@@@*.                
 .:+##############%%#%##%#########%%%%%%%@%%%%%@@%%#%%%%##%%%%%%%%%%%%%%%@@@#@@%@@@-.               
 .+##############%%%##%#%###%######%%%%%%%@@%%%%@%##%%%%###%%%%%%%%%%@@%%%@@@%%%@@@#..              
 .+############%#%%%##@##%###%######%%%%%%%%@@%%%@%####%%%###%%%%%%%%%@@%%%@@%%%#@@@#-.              
 :*#############%%%%%#%##%###%######%%%%%%%%@@%@%%####%%%%##%@%%%%%%%%@%%%@@%%#%@@@%#:.             
.:###############%%%%##@#%####%####%%%%%@%%%%@@@%%####%%%%##%%%%%%%%%%@@%%@@%%#@@@%%%+..            
.-############%#%#%%%%#@#%####%#%%%%%%%%%@%%%%@@%%#####%%%%#%%@%%%%%%%@@%%@%%%%@@%%%%+.             
.+############%%%%%%%%%%#%%#%#%%%%%%%%%%%@@%%%@@#####%%%%%%%%%%@%%%%%%@@@%@%%#%%%%%%#-.             
.+###########%%%%%%@%@%#@%#@%#%%%%%%%%%%%@%%%%@@####%%%%%%%%%%%@%%%%%%@@@@##%%%%%%*:..             
.*###########%%%%%%%@%@#@%%%%%#@%%%%%%%%%%@@%%%@@#%##%%%%%%%%%%%@@%%%%%@@@@%%%%%%%%:..              
.*##########%%%%%%%%%%@#%%#@@%#%%%%%%%%%%%@@%%%@@%###%%#%%%%%%%%%@%%%%%@@@@#%%=+**#-.               
.+#########%%%%%%%%%%@@#%@#@@##%%%%%%@%%%%%@@%%%@@##%#%%%%%%%%%%%%@%%%%%@@@*--=++*#+.               
:*########%%%%%%%%%%%@@%@@%@%#%%%%%%%@%%%%%@@%%%@@#%%%#%%%%%%%%%%%@@%%%%@@@%--==+*#*..              
:#########%%%%%%%%%@%%@@##@@%#%%@%%%@@%%%%%@@###@@###%%%##%%%%%%%%%@@%%%%@@%-===+**#=.              
-###########%%%%%%%%@%@@%@@%##%@@%%@@%%%%%%@@%##@@%%%%%%%%%%%%%%%%%@@%%%%@@@-===++*#=.              
=##########%%%%%%%%%@@@@%@@%##%@@@@@@%%%%%%@@@##%@@%%%%%###%%%%%%%%%@@%%%@@@+===++*##:.             
=###########%%%%%%%%@@@@@@%##%%@@@@@%%%%%%%@@@##%@@%%%%###%%%%%%%%%%%@@%%%@@%===+++*#+..            
+#########%%%%%%%%%%@@@@@%###%%@@@@%%%%%%%%%@@##%@@%%%%%####%%%%%%%%%@@%%%@@%===++++*#-.            
*##########%%%%%%%%%@@@@%###%%%@@@%%%%%%%%%%@@##%@@%%%%%####%%%%%%%%%%@@%%@@@===+++++**..           
*###########%%%%%%%%@@@@@###%%%@@%%%%%%%%%%%@@%#%@@%%%%###%#%%%%%%%%%%@@@%@@@+===+==++*=.           
*#########%%%%%%%%%%@@@@@#%%%%@@@%%%%%%%%#%%@@%#%@%%%%%%%###%%%%%%%%%%%@@@%@@%=======+**:           
*############%%%%%%%@@@@@%%%%%@@@%%%%%%%%#%%%@%#%@%%%%%%%###%%%%%%%%%%%@@@%@@%=====-==+*=..         
.:*@@@@@@@@@@@%%%##%%@@@@@%%%%@@@%%%%%%%##%%%@%#%@%%%%%%####%%%%%%%%%%%%@@@@@%==-----==++..         
...++==---------==+*%@@@@@%%%%@@@%%%##@%##%%%@%##@%%%%%%####%%%%%%%%%%%%@@@@@@-------==+*-.         
   =+===--------==+#%@@@@@@%%%@@@@%##%@%##%%%@%#%@%%%%%%####%%%%%%%%%%%%%@@@@@--------==++.         
  .:+===-------==++*%@@@@@@##@@@@@##%@%%#%%%%@##%@%%%%%######%%%%%%%%%%%%@@@@@=-------==+*-.        
   -+===-------==+**%@@@@@@#%@@@%##%@%%####%@%##%@%%%%%######%%%%%%%%%%%%%@@@@#--------=+*=.        
  ..++===-----===+*#%@@@@@@%@@@%##%%@%####%@@###%%@%%%######%%%%%%%%%%%%%%@@@@@--------=++*:.       
   .++===----====+*#%@@@@@@@@%%##%@%%####%%%%###%%@%%####%##%%%%%%%%%%%%%%%@@@@--------==+*=.       
   .*++==----===++*#%@@@@@@@%%##%@%#####%%%%#####%@%%###%%%%%%%%%%%%%%%%%%%%@@@--------==+*+..      
   .-++==----==++*##%@@@@@@@%##%@%#####%%%%#####%%@%%####%%%%%%%%%%%%%%%%%%%@@@=-------==+**:.      
   .:++===--===+**##%@@@@@@@##%@######%%%%%######%%%%%##%%%%%%%%%%%%%%%%%%%%%@@+=-------=+**:.      
   .:+++==--==++*##%%@@@@@@@#%@##%%%%%#%#%%######%%%%%%%%%%#%%%%%%%%%%%%%%%%%%*%==------=+**+.      
    .=+==--===+*###%%@@@@@@##%%%%%%%%%%%%%%######%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%===-----==+**.      
    .=*===-===+*##%%@@@@@@##%%%%%#####%%%%#######%%%%%##%%#%%%%%%%%%%%%%%%%%%%%%*==-----==+*+.      
    .=*+=---==+*##%%@@@@@@##%%@%####%%%%%#######%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@+==-----=+**-      
   ...++=----=+*#%%%@@@@@@%%@@####%%%###########%%%%%%%%%%%@@@@@%%%%%%%%%%%%%%%@@%===----=+*#=.     
     .++=----=+**%%%@@@@@@%%@###%%##############%%%%%@@@@@@%%%##%%%%%%%%@%%%%%%@@@%+=-----=**-.     
     :=+==---=++*#%%@@@@@@#@####%#############%%@@@@@@%%%%%####%#%####%%@%%%%%%@@@@+==-----+*+.     
     :=++=---==++##%@@@@@@%%###############%%@@@@%%%#########%%%%%%%%%%%%%%%%%@@@@##+===--==+*:     
     .-++==---=++*#%%@@@@@@##############%%@@@%%############%%%%@%%%%%%%%%%@@%%@@@@*%===---==*-..   
     .=++===--=++**#%@@@@@@############%@@%%######%%%%%%%%%%%%%%%%%%%%@@%@%%%%%@@@@##*==---==*+.    
     .:=+====-==++*#%%@@@@@@########%@@%###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@+==---+*+.    
     ..=++===--==+**%%@@@@@@#######@#####%##%%%%%%%%%%%%%%%%%%%%%%@%%%%%%%%%%%%%@@@@@@%==#%+%+%:.   
      .-++==-=-==+**#%%@@@@@#####%%##%##########%%%%%%%%%%%%%%%%##%%@%%%%%%%%%%%@@@@@@@*%@#-=**-.   
      .:++===--===+**#%@@@@@%##%%##%####%%########%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@%@@*@=--=++:.   
       .=+==----=+++*#%@@@@@@#%%##%##%%%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%%%%%@%@@%%%%%@@#%=---++=.   
       .:++===-===++**#%@@@@@%%#%%%%###%%%%%#%%%%%%%%%%%%%#######%%%%%%%%%%%%%%%%%%%@%*@*=--=+++..  
        .++===-===++**#%@@@@@%#%%%##%%%##%%%%###%%%%%%%%#%###%%%###%%%%%%%%#%%%%%%%#==*#@+--=++*-.  
        .=+===---==++*#%@@@@@@%%%#%%%%%%%%%%%%%%%%%##%%%%%%%%%%%%%%%%##%%%%%%%%%%#%.::**#====++**.. 
        .:=+==---===++*#@@@@@@#%#%%%####%%%%%%%%%%%%%%%%%%%#######%%%%%%%%%%%###*:..::-*=--==++**:. 
         .-+===--===++*#%@@@@@%#######%%%%%%%%%%%%%##########%#%%%%%%%%%+::*#:-----:.::+--==+++*#=. 
          .+===--====+**%@@@@@@########%%#####################%%%%%++::..::*#+*--:...::--==+++++**:.
          .-+==---===++*%@@*#@@##############%#%#%%%%#%%%%###*#**.:+---.:::=--:---::.::=-=++++++*#=.
           .+====---=++*#@@+-#@%##%%%##%%%##%%%%%#=:--:-=+*###*:.--*:-::::.:===:-::.:::=-=+**==++#+.
            .+===----=++*%%-..*@#%%%%%%-...........:::::::::--::..===......::=+==:::..:=-=+%=--=+**:
            ..+==----==+*##...:+#...............:..:..::::::-+..:::........:-=+=-:....:==+*++=--=+#-
             .-+==-----=+**.  .-*:..............::::::::::.:-+*.-.=..:....::---=:::::.:==+*:*+=--+#+
              .====----=++#-.  .-*............::::::::::::::-=#:.:.::......:-----::....==+*:=*=--+%=
               .===-----==*-.   .=*.............:::::::--:::--=#.::::......:--:::::....==**:-*#--+%.
               .:===----==**.    .=-...........::::::::::...::-#*=:::......::::-:::....=:=+::%*-=+*.
                .+===----+++=.   ..+..............::=+++====---=*#.::......:::::::.....:====%%*-=*-.
                 :+===--===+-.    .-*.::::::...:.:::::----:::::=**=.........::.:::.....::::==--=*=. .`

// ASCII characters for scramble effect
const ASCII_CHARS = '!@#$%^&*()_+-=[]{}|;:,.<>?/~\\x60ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';

// Function to generate random ASCII character
function randomChar() {
  return ASCII_CHARS[Math.floor(Math.random() * ASCII_CHARS.length)];
}

// ASCII art name design
const asciiName = `    .....                                                                               ..       
 .H8888888h.  ~-.                .uef ^ "                                               dF         
888888888888x  \`>             :d88E          ..    .     :                          '88bu.      
X~     \`?888888hx~       u     \`888E        .888: x888  x888.       .u         .u    '*88888bu   
'      x8.^"*88*"     us888u.   888E .z8k  ~\`8888~'888X\`?888f\`   ud8888.    ud8888.    ^"*8888N  
 \`-:- X8888x       .@88 "8888"  888E~?888L   X888  888X '888>  :888'8888. :888'8888.  beWE "888L 
      488888>      9888  9888   888E  888E   X888  888X '888>  d888 '88%" d888 '88%"  888E  888E 
    .. \`"88*       9888  9888   888E  888E   X888  888X '888>  8888.+"    8888.+"     888E  888E 
  x88888nX"        9888  9888   888E  888E   X888  888X '888>  8888L      8888L       888E  888F 
 !"*888888.        9888  9888   888E  888E  "*88%""*88" '888!\` '8888c. .+ '8888c. .+ .888N..888  
'    "*8888.       "888*""888" m888N= 888>    \`~    "    \`"\`    "88888%    "88888%    \`"888*""   
        ^"***"\`     ^Y"   ^Y'   \`Y"   888                         "YP'       "YP'        ""      
                                     J88"                                                        
                                     @%                                                          
                                   :"                                                            `;

// Function to type command like terminal
function typeCommand(element, text, callback) {
  element.innerHTML = ''; // Clear text
  let i = 0;

  // Create cursor element
  const cursor = document.createElement('span');
  cursor.className = 'cursor';
  element.appendChild(cursor);

  function typeChar() {
    if (i < text.length) {
      cursor.before(text.charAt(i));
      i++;
      setTimeout(typeChar, 30 + Math.random() * 30); // Random typing speed
    } else {
      setTimeout(() => {
        element.removeChild(cursor); // Remove cursor when done
        if (callback) callback();
      }, 100); // Quick finish
    }
  }

  typeChar();
}

// Function to scramble text and gradually reveal target (works with multi-line ASCII art)
function scrambleText(element, targetText, duration = 2500) {
  const startTime = Date.now();
  const chars = targetText.split('');
  let revealed = new Array(chars.length).fill(false);

  // Extract unique characters from the target text (excluding spaces and newlines)
  const uniqueChars = [...new Set(targetText.split('').filter(c => c !== ' ' && c !== '\n'))];

  // Function to get random character from the name's character set
  function getRandomChar() {
    return uniqueChars[Math.floor(Math.random() * uniqueChars.length)];
  }

  const interval = setInterval(() => {
    const elapsed = Date.now() - startTime;
    const progress = Math.min(elapsed / duration, 1);

    // Gradually reveal characters from left to right
    const revealIndex = Math.floor(progress * chars.length);
    for (let i = 0; i < revealIndex; i++) {
      revealed[i] = true;
    }

    // Build display text
    const displayText = chars.map((char, i) => {
      if (revealed[i]) {
        return char;
      }
      // Preserve newlines and spaces for ASCII art structure
      return (char === '\n' || char === ' ') ? char : getRandomChar();
    }).join('');

    element.textContent = displayText;

    // Stop when complete
    if (progress >= 1) {
      clearInterval(interval);
      element.textContent = targetText;
    }
  }, 50);
}

// Function to reveal ASCII art line-by-line from top to bottom
function revealLineByLine(element, targetText, duration = 3000) {
  const lines = targetText.split('\n');
  const totalLines = lines.length;
  const startTime = Date.now();

  // Extract unique characters from the target for scrambling
  const uniqueChars = [...new Set(targetText.split('').filter(c => c !== ' ' && c !== '\n'))];

  function getRandomChar() {
    return uniqueChars[Math.floor(Math.random() * uniqueChars.length)];
  }

  function scrambleLine(line) {
    return line.split('').map(char => {
      if (char === ' ') return ' ';
      return getRandomChar();
    }).join('');
  }

  const interval = setInterval(() => {
    const elapsed = Date.now() - startTime;
    const progress = Math.min(elapsed / duration, 1);

    // Calculate which line should be revealed (0-indexed)
    const revealedLineIndex = Math.floor(progress * totalLines);

    // Build display: revealed lines + scrambled lines
    const displayLines = lines.map((line, i) => {
      if (i < revealedLineIndex) {
        return line; // Already revealed
      } else {
        return scrambleLine(line); // Still scrambling
      }
    });

    element.textContent = displayLines.join('\n');

    if (progress >= 1) {
      clearInterval(interval);
      element.textContent = targetText;
    }
  }, 40); // Faster refresh for smoother glitch effect
}



// ASCII art logos for social media
const githubLogo = `
  .@@@@@#            ===   :==          ===
.@@@@@@@@ :@@# .@@.  @@@   +@@          @@@
@@@       .    .@@   @@@   +@@ . .      @@@.=+.
@@@  @@@@* @@-@@@@@@ @@@@@@@@@ @@@  #@@ @@@@@@@@
@@@  %%@@* @@-..@@.  @@@   +@@ @@@  #@@ @@@  .@@
#@@*   @@* @@- .@@.  @@@   +@@ @@@ .#@@ @@@  :@@
 +@@@@@@@* @@- .@@@@ @@@   +@@ +@@@@@@@ @@@@@@@@


          .                     .
         +%%%%@.   :-==-. . @%%%%#
         %%%%%%%%%%%%%%%%%%%%%%%%@
         =%%%%%%%%%%%%%%%%%%%%%%%#
         %%%%%%%%%%%%%%%%%%%%%%%%%@
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%
       *%%%%%%%%##%@%%%@@%##%%%%%%%%
       #%%%%-::::::::::::::::::*%%%%
       =%%%:::.*+.::::::::.++.::+%%%
        %%%:::.++*::::::::+++.:::%%@
    .:=+*%%+::..-.::::::::.:..::%%%++=:.
         .%%%::::::::::::::::::#%%
      .    .=%%@+::::::::::-%%%#.
    . .*%%.     .-@@@@@@@@-
      .. %=.    +%%%%%%%%%%*
          %%%%#%%%%@%%%%@@%@
                @%+@%%%%@+%@
                @%+@%%%%@+%@
           ..:::@%*@%%%%@*%@::::..
         ::::::+%%:@%%%%@:%%*::::::.
        .::::::----%%::%%----:::::::
         .::::::------------::::::..
             ..:=-----------:..

`;

const linkedinLogo = `
######################################################################
######################################################################
######################################################################
######################################################################
######################################################################
############*     ####################################################
##########          ##################################################
#########            #################################################
#########            #################################################
#########*           #################################################
##########*         ##################################################
#############     ####################################################
######################################################################
######################################################################
##########           ######                           ################
##########           ######                             ##############
##########           ######                               ############
##########           ######                                ###########
##########           ######                                ###########
##########           ######             #######             ##########
##########           ######           ##########            ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
##########           ######           ###########           ##########
######################################################################
######################################################################
######################################################################
######################################################################
######################################################################`;

const mailLogo = `  
   +@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@+.   
 *@@@*+======================================================+*@@@*.
.:@@#@@@. ..  .. ..        .    . .     . ..  .. ..        ...%@@@@@:  
.*@@. *@@@:.      .  . .          . . .   .       .  . . ...@@@@ .@@* 
.*@@.   =@@@:...     ..   .. .           .  ...      .....@@@%   .@@*    
.*@@.    .:@@@-.    .  . .   .  . ..      .         . .:@@@* .. ..@@*   
.*@@.      .:@@@+.   .  .      . .         ..  ..  ..:@@@=...  . .@@*    
.*@@. .      ..@@@*.     ...  . .     .      . .. .=@@@-....  . ..@@* 
.*@@.  .  .. ....@@@%...        .  ..  .  .. . ..+@@@...        ..@@*  
.*@@. .   . .. . ..@@@%. ..     .     .   .   ..#@@@..  . ..      @@* 
.*@@.   ..        ...@@@@... ..  .. .   ..  .%@@@....  .  .. ..  .@@*  
.+@@... . .  ..       .#@@@.  ...    .. . .@@@%...     .   .  ....@@* 
.*@@..  .  . .     . . ..#@@@..  .. ..  .@@@%..    . .  . .   .  .@@*
.+@@   .   .. . . . . .@@@@%@@@.   .  .@@@#@@@@.. . .   .  . .   .@@*  
.+@@.      ..   .  .%@@@%....-@@@-. :@@@=....*@@@%..     . .     .@@*     
.+@@..        ...*@@@@... .   .-@@@@@@-       ..%@@@#..   .     ..@@*.      
.+@@.   . ....=@@@@.... .       .:@@..  . ..... ...@@@@+.       ..@@*  
.+@@.      :@@@@-..    .  .  .    ..            . ....@@@@-...   .@@*          
.+@@.. ..@@@@+ ..     .    .     ..  . .  . .  .     ...-@@@@:.  .@@*. 
.*@@ .%@@@#...   ..  .    . .  . .       .  .    ..  .    .+@@@@..@@*. 
.:@@@@@%..   . ..  . ..  . . .               . ..  . ..  . . .#@@@@@:       
.*@@@*========================================================*@@@*. 
  +@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=.   
`;


// ASCII Art Taglines
const tag1 = `
    .oooooo.                                                           .         .oooooo..o            .o88o.     .                                                      oooooooooooo                         o8o                                                ooooo                 .                                         .oooooo.        .oooooo..o oooo                              o8o   .o88o.             
 d8P'  \`Y8b                                                        .o8        d8P'    \`Y8            888 \`"   .o8                                                      \`888'     \`8                         \`"'                                                \`888'               .o8                                        d'     \`b       d8P'    \`Y8 \`888                              \`"'   888 \`"             
888          oooo  oooo  oooo d8b oooo d8b  .ooooo.  ooo. .oo.   .o888oo      Y88bo.       .ooooo.  o888oo  .o888oo oooo oooo    ooo  .oooo.   oooo d8b  .ooooo.        888         ooo. .oo.    .oooooooo oooo  ooo. .oo.    .ooooo.   .ooooo.  oooo d8b       888  ooo. .oo.   .o888oo  .ooooo.  oooo d8b ooo. .oo.        d' .d"bd  8      Y88bo.       888 .oo.    .ooooo.  oo.ooooo.  oooo  o888oo  oooo    ooo 
888          \`888  \`888  \`888""8P \`888""8P d88' \`88b \`888P"Y88b    888         \`"Y8888o.  d88' \`88b  888      888    \`88. \`88.  .8'  \`P  )88b  \`888""8P d88' \`88b       888oooo8    \`888P"Y88b  888' \`88b  \`888  \`888P"Y88b  d88' \`88b d88' \`88b \`888""8P       888  \`888P"Y88b    888   d88' \`88b \`888""8P \`888P"Y88b       8  8. 8  .d       \`"Y8888o.   888P"Y88b  d88' \`88b  888' \`88b \`888   888     \`88.  .8'  
888           888   888   888      888     888ooo888  888   888    888             \`"Y88b 888   888  888      888     \`88..]88..8'    .oP"888   888     888ooo888       888    "     888   888  888   888   888   888   888  888ooo888 888ooo888  888           888   888   888    888   888ooo888  888      888   888       Y.  YoP"b'            \`"Y88b  888   888  888   888  888   888  888   888      \`88..8'   
\`88b    ooo   888   888   888      888     888    .o  888   888    888 .      oo     .d8P 888   888  888      888 .    \`888'\`888'    d8(  888   888     888    .o       888       o  888   888  \`88bod8P'   888   888   888  888    .o 888    .o  888           888   888   888    888 . 888    .o  888      888   888        8.      .8      oo     .d8P  888   888  888   888  888   888  888   888       \`888'    
 \`Y8bood8P'   \`V88V"V8P' d888b    d888b    \`Y8bod8P' o888o o888o   "888"      8""88888P'  \`Y8bod8P' o888o     "888"     \`8'  \`8'     \`Y888""8o d888b    \`Y8bod8P'      o888ooooood8 o888o o888o \`8oooooo.  o888o o888o o888o \`Y8bod8P' \`Y8bod8P' d888b         o888o o888o o888o   "888" \`Y8bod8P' d888b    o888o o888o        YooooooP       8""88888P'  o888o o888o \`Y8bod8P'  888bod8P' o888o o888o       .8'     
                                                                                                                                                                                                d"     YD                                                                                                                                                                        888                     .o..P'      
                                                                                                                                                                                                "Y88888P'                                                                                                                                                                       o888o                    \`Y8P'       
                                                                                                                                                                                                                                                                                                                                                                                                                     
    `;
const tag2 = `    ooooooooo.                                         .oooooo.         .oooooo.   oooo  oooo                        
    \`888   \`Y88.                                      d'     \`b        d8P'  \`Y8b  \`888  \`888                        
     888   .d88' oooo d8b  .ooooo.  oooo    ooo      d' .d"bd  8      888      888  888   888   .ooooo.  ooo. .oo.   
     888ooo88P'  \`888""8P d88' \`88b  \`88.  .8'       8  8. 8  .d      888      888  888   888  d88' \`88b \`888P"Y88b  
     888          888     888ooo888   \`88..8'        Y.  YoP"b'       888      888  888   888  888   888  888   888  
     888          888     888    .o    \`888'          8.      .8      \`88b    d88'  888   888  888   888  888   888  
    o888o        d888b    \`Y8bod8P'     \`8'            YooooooP        \`Y8bood8P'  o888o o888o \`Y8bod8P' o888o o888o`;

// Project ASCII Art Tags - paste your ASCII art here
const projectMinML = `ooo        ooooo  o8o              ooo        ooooo ooooo                           .oooooo..o                                                       .    o8o                                                                                                        o8o                                                               .                               
\`88.       .888'  \`"'              \`88.       .888' \`888'                          d8P'    \`Y8                                                     .o8    \`"'                                                                                                        \`"'                                                             .o8                               
 888b     d'888  oooo  ooo. .oo.    888b     d'888   888                           Y88bo.       .ooooo.  ooo. .oo.  .oo.    .oooo.   ooo. .oo.   .o888oo oooo   .ooooo.        .ooooo.   .ooooo.  ooo. .oo.  .oo.   oo.ooooo.  oooo d8b  .ooooo.   .oooo.o  .oooo.o oooo   .ooooo.  ooo. .oo.         .oooo.o oooo    ooo  .oooo.o .o888oo  .ooooo.  ooo. .oo.  .oo.   
 8 Y88. .P  888  \`888  \`888P"Y88b   8 Y88. .P  888   888                            \`"Y8888o.  d88' \`88b \`888P"Y88bP"Y88b  \`P  )88b  \`888P"Y88b    888   \`888  d88' \`"Y8      d88' \`"Y8 d88' \`88b \`888P"Y88bP"Y88b   888' \`88b \`888""8P d88' \`88b d88(  "8 d88(  "8 \`888  d88' \`88b \`888P"Y88b       d88(  "8  \`88.  .8'  d88(  "8   888   d88' \`88b \`888P"Y88bP"Y88b  
 8  \`888'   888   888   888   888   8  \`888'   888   888              8888888           \`"Y88b 888ooo888  888   888   888   .oP"888   888   888    888    888  888            888       888   888  888   888   888   888   888  888     888ooo888 \`"Y88b.  \`"Y88b.   888  888   888  888   888       \`"Y88b.    \`88..8'   \`"Y88b.    888   888ooo888  888   888   888  
 8    Y     888   888   888   888   8    Y     888   888       o                   oo     .d8P 888    .o  888   888   888  d8(  888   888   888    888 .  888  888   .o8      888   .o8 888   888  888   888   888   888   888  888     888    .o o.  )88b o.  )88b  888  888   888  888   888       o.  )88b    \`888'    o.  )88b   888 . 888    .o  888   888   888  
o8o        o888o o888o o888o o888o o8o        o888o o888ooooood8                   8""88888P'  \`Y8bod8P' o888o o888o o888o \`Y888""8o o888o o888o   "888" o888o \`Y8bod8P'      \`Y8bod8P' \`Y8bod8P' o888o o888o o888o  888bod8P' d888b    \`Y8bod8P' 8""888P' 8""888P' o888o \`Y8bod8P' o888o o888o      8""888P'     .8'     8""888P'   "888" \`Y8bod8P' o888o o888o o888o 
                                                                                                                                                                                                                     888                                                                                      .o..P'                                                   
                                                                                                                                                                                                                    o888o                                                                                     \`Y8P'                                                    
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                       `;
const projectGameShare = `  .oooooo.                                           .oooooo..o oooo                                                       oooooooooo.                                                 .                      oooo   o8o                             .o8                 oooo                              .o8                oooo                                                     oooo                .    .o88o.                                      
 d8P'  \`Y8b                                         d8P'    \`Y8 \`888                                                       \`888'   \`Y8b                                              .o8                      \`888   \`"'                            "888                 \`888                             "888                \`888                                                     \`888              .o8    888 \`"                                      
888            .oooo.   ooo. .oo.  .oo.    .ooooo.  Y88bo.       888 .oo.    .oooo.   oooo d8b  .ooooo.                     888      888  .ooooo.   .ooooo.   .ooooo.  ooo. .oo.   .o888oo oooo d8b  .oooo.    888  oooo    oooooooo  .ooooo.   .oooo888        .ooooo.   888   .ooooo.  oooo  oooo   .oooo888        .oooo.o  888 .oo.    .oooo.   oooo d8b  .ooooo.       oo.ooooo.   888   .oooo.   .o888oo o888oo   .ooooo.  oooo d8b ooo. .oo.  .oo.   
888           \`P  )88b  \`888P"Y88bP"Y88b  d88' \`88b  \`"Y8888o.   888P"Y88b  \`P  )88b  \`888""8P d88' \`88b                    888      888 d88' \`88b d88' \`"Y8 d88' \`88b \`888P"Y88b    888   \`888""8P \`P  )88b   888  \`888   d'""7d8P  d88' \`88b d88' \`888       d88' \`"Y8  888  d88' \`88b \`888  \`888  d88' \`888       d88(  "8  888P"Y88b  \`P  )88b  \`888""8P d88' \`88b       888' \`88b  888  \`P  )88b    888    888    d88' \`88b \`888""8P \`888P"Y88bP"Y88b  
888     ooooo  .oP"888   888   888   888  888ooo888      \`"Y88b  888   888   .oP"888   888     888ooo888      8888888       888      888 888ooo888 888       888ooo888  888   888    888    888      .oP"888   888   888     .d8P'   888ooo888 888   888       888        888  888   888  888   888  888   888       \`"Y88b.   888   888   .oP"888   888     888ooo888       888   888  888   .oP"888    888    888    888   888  888      888   888   888  
\`88.    .88'  d8(  888   888   888   888  888    .o oo     .d8P  888   888  d8(  888   888     888    .o                    888     d88' 888    .o 888   .o8 888    .o  888   888    888 .  888     d8(  888   888   888   .d8P'  .P 888    .o 888   888       888   .o8  888  888   888  888   888  888   888       o.  )88b  888   888  d8(  888   888     888    .o       888   888  888  d8(  888    888 .  888    888   888  888      888   888   888  
 \`Y8bood8P'   \`Y888""8o o888o o888o o888o \`Y8bod8P' 8""88888P'  o888o o888o \`Y888""8o d888b    \`Y8bod8P'                   o888bood8P'   \`Y8bod8P' \`Y8bod8P' \`Y8bod8P' o888o o888o   "888" d888b    \`Y888""8o o888o o888o d8888888P  \`Y8bod8P' \`Y8bod88P"      \`Y8bod8P' o888o \`Y8bod8P'  \`V88V"V8P' \`Y8bod88P"      8""888P' o888o o888o \`Y888""8o d888b    \`Y8bod8P'       888bod8P' o888o \`Y888""8o   "888" o888o   \`Y8bod8P' d888b    o888o o888o o888o 
                                                                                                                                                                                                                                                                                                                                                                             888                                                                            
                                                                                                                                                                                                                                                                                                                                                                            o888o                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                            `;
const projectTruthful = `ooooooooooooo                          .   oooo         .o88o.             oooo                          .o.       ooooo                                                                               .o8         .oooooo.                .o8                                                                             o8o      .               
8'   888   \`8                        .o8   \`888         888 \`"             \`888                         .888.      \`888'                                                                              "888        d8P'  \`Y8b              "888                                                                             \`"'    .o8               
     888      oooo d8b oooo  oooo  .o888oo  888 .oo.   o888oo  oooo  oooo   888                        .8"888.      888       oo.ooooo.   .ooooo.  oooo oooo    ooo  .ooooo.  oooo d8b  .ooooo.   .oooo888       888          oooo    ooo  888oooo.   .ooooo.  oooo d8b  .oooo.o  .ooooo.   .ooooo.  oooo  oooo  oooo d8b oooo  .o888oo oooo    ooo 
     888      \`888""8P \`888  \`888    888    888P"Y88b   888    \`888  \`888   888                       .8' \`888.     888        888' \`88b d88' \`88b  \`88. \`88.  .8'  d88' \`88b \`888""8P d88' \`88b d88' \`888       888           \`88.  .8'   d88' \`88b d88' \`88b \`888""8P d88(  "8 d88' \`88b d88' \`"Y8 \`888  \`888  \`888""8P \`888    888    \`88.  .8'  
     888       888      888   888    888    888   888   888     888   888   888       8888888        .88ooo8888.    888        888   888 888   888   \`88..]88..8'   888ooo888  888     888ooo888 888   888       888            \`88..8'    888   888 888ooo888  888     \`"Y88b.  888ooo888 888        888   888   888      888    888     \`88..8'   
     888       888      888   888    888 .  888   888   888     888   888   888                     .8'     \`888.   888        888   888 888   888    \`888'\`888'    888    .o  888     888    .o 888   888       \`88b    ooo     \`888'     888   888 888    .o  888     o.  )88b 888    .o 888   .o8  888   888   888      888    888 .    \`888'    
    o888o     d888b     \`V88V"V8P'   "888" o888o o888o o888o    \`V88V"V8P' o888o                   o88o     o8888o o888o       888bod8P' \`Y8bod8P'     \`8'  \`8'     \`Y8bod8P' d888b    \`Y8bod8P' \`Y8bod88P"       \`Y8bood8P'      .8'      \`Y8bod8P' \`Y8bod8P' d888b    8""888P' \`Y8bod8P' \`Y8bod8P'  \`V88V"V8P' d888b    o888o   "888"     .8'     
                                                                                                                               888                                                                                            .o..P'                                                                                                    .o..P'      
                                                                                                                              o888o                                                                                           \`Y8P'                                                                                                     \`Y8P'       
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                    `;

// Create simple layout with ASCII art and header
document.querySelector('#app').innerHTML = `
  <main class="h-screen w-screen flex items-start justify-between px-8 md:px-16 lg:px-24 pt-16 overflow-hidden relative">
    
    <!-- ASCII Art Portrait (Left) -->
    <div class="ascii-fade-in">
      <pre class="ascii-art" id="ascii-portrait">${asciiArt}</pre>
    </div>
    
    <!-- ASCII Header (Top Right) -->
    <div class="ascii-header">
      <pre class="ascii-name" id="ascii-name">Tahmeed</pre>
      <div class="experience-container">
        <div id="experience-content" class="content-view">
          <div class="experience-group">
            <div class="experience-line">
              <pre class="experience-text ascii-tag">${tag1}</pre>
              <div class="logo-placeholder"></div>
            </div>
            <div class="experience-details">Continuous Deployment Team</div>
          </div>
          <div class="experience-group">
            <div class="experience-line">
              <pre class="experience-text ascii-tag">${tag2}</pre>
              <div class="logo-placeholder"></div>
            </div>
            <div class="experience-details">AI, Automation and QA</div>
          </div>
        </div>
        <div id="projects-content" class="content-view" style="display: none;">
          <div class="project-item">
            <div class="project-header">
              <a href="https://www.minml.dev" target="_blank" rel="noopener noreferrer" class="project-title"><pre class="ascii-tag">${projectMinML}</pre></a>
              <div class="logo-placeholder"></div>
            </div>
            <div class="project-details">
              <p class="project-desc">Local, cross-provider token cache with safe prompt compression. Cuts LLM cost while preserving meaning.</p>
              <p class="project-stack">Rust (PyO3)  Python 3.13  Transformers  PyTorch</p>
            </div>
          </div>
          <div class="project-item">
            <div class="project-header">
              <a href="https://gameshareit.com" target="_blank" rel="noopener noreferrer" class="project-title"><pre class="ascii-tag">${projectGameShare}</pre></a>
              <div class="logo-placeholder"></div>
            </div>
            <div class="project-details">
              <p class="project-desc">Decentralized marketplace for cloud gaming via peer hardware hosting. Low cost, accessible entertainment for everyone.</p>
              <p class="project-stack">Rust  Python  Docker  WebRTC</p>
            </div>
          </div>
          <div class="project-item">
            <div class="project-header">
              <a href="https://betruthful.site" target="_blank" rel="noopener noreferrer" class="project-title"><pre class="ascii-tag">${projectTruthful}</pre></a>
              <div class="logo-placeholder"></div>
            </div>
            <div class="project-details">
              <p class="project-desc">Built my own ML model to detect Real vs AI content from scratch. Trained on 100k+ frames on Google Cloud and deployed on render.</p>
              <p class="project-stack">Python  PyTorch  CUDA  NumPy</p>
            </div>
          </div>
        </div>
        <div id="competitions-content" class="content-view" style="display: none;">
          <div class="competition-ring" id="competition-ring">
            <div class="competition-item" data-index="0">Cal Hacks</div>
            <div class="competition-item" data-index="1">Google Cloud AI</div>
            <div class="competition-item" data-index="2">Hack Harvard</div>
            <div class="competition-item" data-index="3">Hack The North</div>
            <div class="competition-item" data-index="4">OpenAI Open Model</div>
            <div class="competition-item" data-index="5">United Hacks V5</div>
            <div class="competition-item" data-index="6">Bolt Hackathon</div>
            <div class="competition-item" data-index="7">UofT Hacks</div>
          </div>
        </div>
        <div class="projects-btn" id="nav-btn">Projects</div>
      </div>
    </div>
    
    <!-- Social Icons (Bottom Right) -->
    <div class="social-icons">
      <a href="mailto:tabeeb700@gmail.com" class="social-icon social-icon-small">
        <pre class="social-logo social-logo-small">${mailLogo}</pre>
      </a>
      <a href="https://github.com/ruyot" target="_blank" rel="noopener noreferrer" class="social-icon">
        <pre class="social-logo">${githubLogo}</pre>
      </a>
      <a href="https://www.linkedin.com/feed/" target="_blank" rel="noopener noreferrer" class="social-icon social-icon-small">
        <pre class="social-logo social-logo-small">${linkedinLogo}</pre>
      </a>
    </div>
    
    <div id="terminal-overlay"></div>
  </main>
`

// Toggle Logic
const experienceContent = document.getElementById('experience-content');
const projectsContent = document.getElementById('projects-content');
const competitionsContent = document.getElementById('competitions-content');
const navBtn = document.getElementById('nav-btn');
const terminalOverlay = document.getElementById('terminal-overlay');
let currentView = 'experience'; // 'experience', 'projects', or 'competitions'

// View cycle: experience -> projects -> competitions -> experience
const viewCycle = {
  'experience': 'projects',
  'projects': 'competitions',
  'competitions': 'experience'
};

const viewLabels = {
  'experience': 'Projects',
  'projects': 'Competitions',
  'competitions': 'Experience'
};

function showView(viewName) {
  experienceContent.style.display = viewName === 'experience' ? 'flex' : 'none';
  projectsContent.style.display = viewName === 'projects' ? 'flex' : 'none';
  competitionsContent.style.display = viewName === 'competitions' ? 'flex' : 'none';

  // Update button text to show next destination
  navBtn.textContent = viewLabels[viewName];

  if (viewName === 'competitions') {
    navBtn.style.marginTop = '-13.5rem';
    navBtn.style.alignSelf = 'flex-end';
    navBtn.style.marginRight = '-1rem';
  } else {
    navBtn.style.marginTop = '';
    navBtn.style.alignSelf = '';
    navBtn.style.marginRight = '';
  }

  currentView = viewName;
}

navBtn.addEventListener('click', () => {
  if (navBtn.classList.contains('typing')) return;
  navBtn.classList.add('typing');

  const nextView = viewCycle[currentView];

  terminalOverlay.style.display = 'flex';
  terminalOverlay.innerHTML = '';

  const command = `cd /tahmeedt/profile/${nextView}`;

  typeCommand(terminalOverlay, command, () => {
    // Apply changes while overlay is still visible
    showView(nextView);

    // Small delay to let layout settle before revealing
    setTimeout(() => {
      terminalOverlay.style.display = 'none';
      terminalOverlay.innerHTML = '';
      navBtn.classList.remove('typing');
    }, 50);
  });
});

// Initialize animations
const nameElement = document.getElementById('ascii-name');
const portraitElement = document.getElementById('ascii-portrait');

// Start scramble animation for ASCII art name
scrambleText(nameElement, asciiName, 3000);

// Start line-by-line reveal animation for ASCII art portrait
revealLineByLine(portraitElement, asciiArt, 3000);

// Competition Ring Carousel
const competitionRing = document.getElementById('competition-ring');
const competitionItems = competitionRing.querySelectorAll('.competition-item');
const totalItems = competitionItems.length;
const angleStep = 360 / totalItems;
let currentRotation = 0;
let isHovered = false;
let autoRotateInterval;

function positionItems() {
  competitionItems.forEach((item, i) => {
    const angle = (angleStep * i) + currentRotation - 90; // -90 to start at top
    const radian = (angle * Math.PI) / 180;

    // Position on circle circumference (50% is center, radius is 50%)
    const x = 50 + Math.cos(radian) * 50;
    const y = 50 + Math.sin(radian) * 50;

    item.style.left = `${x}%`;
    item.style.top = `${y}%`;

    // Active item is at top (angle near 0 after -90 offset)
    const normalizedAngle = ((angle + 90) % 360 + 360) % 360;
    const isActive = normalizedAngle < angleStep / 2 || normalizedAngle > 360 - angleStep / 2;
    item.classList.toggle('active', isActive);
  });
}

function rotateRing() {
  currentRotation -= 0.5; // Smooth continuous rotation
  positionItems();
}

// Auto-rotate
function startAutoRotate() {
  autoRotateInterval = setInterval(() => {
    if (!isHovered) {
      rotateRing();
    }
  }, 30); // ~33fps for smooth animation
}

// Pause on hover
competitionRing.addEventListener('mouseenter', () => { isHovered = true; });
competitionRing.addEventListener('mouseleave', () => { isHovered = false; });

// Click to jump to next item
competitionRing.addEventListener('click', () => {
  currentRotation -= angleStep;
  positionItems();
});

// Initial positioning and start animation
positionItems();
startAutoRotate();
